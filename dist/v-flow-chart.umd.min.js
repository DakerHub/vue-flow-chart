(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["v-flow-chart"]=e():t["v-flow-chart"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"015f":function(t,e,n){var r=n("0c09");function i(t){r.call(this,t),this.heuristic=function(t,e){return 0}}i.prototype=new r,i.prototype.constructor=i,t.exports=i},"01f9":function(t,e,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),a=n("32e9"),s=n("84f2"),u=n("41a0"),c=n("7f20"),l=n("38fd"),h=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",v="values",b=function(){return this};t.exports=function(t,e,n,y,g,m,w){u(n,e,y);var x,k,_,A=function(t){if(!f&&t in W)return W[t];switch(t){case p:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},N=e+" Iterator",O=g==v,M=!1,W=t.prototype,P=W[h]||W[d]||g&&W[g],j=P||A(g),C=g?O?A("entries"):j:void 0,S="Array"==e&&W.entries||P;if(S&&(_=l(S.call(new t)),_!==Object.prototype&&_.next&&(c(_,N,!0),r||"function"==typeof _[h]||a(_,h,b))),O&&P&&P.name!==v&&(M=!0,j=function(){return P.call(this)}),r&&!w||!f&&!M&&W[h]||a(W,h,j),s[e]=j,s[N]=b,g)if(x={values:O?j:A(v),keys:m?j:A(p),entries:C},w)for(k in x)k in W||o(W,k,x[k]);else i(i.P+i.F*(f||M),e,x);return x}},"04ff":function(t,e,n){var r=n("5ca1"),i=n("3ca5");r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},"0a49":function(t,e,n){var r=n("9b43"),i=n("626a"),o=n("4bf8"),a=n("9def"),s=n("cd1c");t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var v,b,y=o(e),g=i(y),m=r(s,p,3),w=a(g.length),x=0,k=n?d(e,w):u?d(e,0):void 0;w>x;x++)if((f||x in g)&&(v=g[x],b=m(v,x,y),t))if(n)k[x]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:k.push(v)}else if(l)return!1;return h?-1:c||l?l:k}}},"0c09":function(t,e,n){var r=n("175a"),i=n("22b1"),o=n("1196"),a=n("8b6a");function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||o.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=t.heuristic||o.manhattan:this.heuristic=t.heuristic||o.octile}s.prototype.findPath=function(t,e,n,o,a){var s,u,c,l,h,f,d,p,v=new r(function(t,e){return t.f-e.f}),b=a.getNodeAt(t,e),y=a.getNodeAt(n,o),g=this.heuristic,m=this.diagonalMovement,w=this.weight,x=Math.abs,k=Math.SQRT2;b.g=0,b.f=0,v.push(b),b.opened=!0;while(!v.empty()){if(s=v.pop(),s.closed=!0,s===y)return i.backtrace(y);for(u=a.getNeighbors(s,m),l=0,h=u.length;l<h;++l)c=u[l],c.closed||(f=c.x,d=c.y,p=s.g+(f-s.x===0||d-s.y===0?1:k),(!c.opened||p<c.g)&&(c.g=p,c.h=c.h||w*g(x(f-n),x(d-o)),c.f=c.g+c.h,c.parent=s,c.opened?v.updateItem(c):(v.push(c),c.opened=!0)))}return[]},t.exports=s},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},1196:function(t,e){t.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var n=Math.SQRT2-1;return t<e?n*t+e:n*e+t},chebyshev:function(t,e){return Math.max(t,e)}}},"11e9":function(t,e,n){var r=n("52a7"),i=n("4630"),o=n("6821"),a=n("6a99"),s=n("69a8"),u=n("c69a"),c=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},1248:function(t,e,n){(function(t){(function(){var e,n,r,i,o,a,s,u,c,l,h,f,d,p,v;r=Math.floor,l=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},c=function(t,e,i,o,a){var s;if(null==i&&(i=0),null==a&&(a=n),i<0)throw new Error("lo must be non-negative");null==o&&(o=t.length);while(i<o)s=r((i+o)/2),a(e,t[s])<0?o=s:i=s+1;return[].splice.apply(t,[i,i-i].concat(e)),e},a=function(t,e,r){return null==r&&(r=n),t.push(e),p(t,0,t.length-1,r)},o=function(t,e){var r,i;return null==e&&(e=n),r=t.pop(),t.length?(i=t[0],t[0]=r,v(t,0,e)):i=r,i},u=function(t,e,r){var i;return null==r&&(r=n),i=t[0],t[0]=e,v(t,0,r),i},s=function(t,e,r){var i;return null==r&&(r=n),t.length&&r(t[0],e)<0&&(i=[t[0],e],e=i[0],t[0]=i[1],v(t,0,r)),e},i=function(t,e){var i,o,a,s,u,c;for(null==e&&(e=n),s=function(){c=[];for(var e=0,n=r(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)c.push(e);return c}.apply(this).reverse(),u=[],o=0,a=s.length;o<a;o++)i=s[o],u.push(v(t,i,e));return u},d=function(t,e,r){var i;if(null==r&&(r=n),i=t.indexOf(e),-1!==i)return p(t,0,i,r),v(t,i,r)},h=function(t,e,r){var o,a,u,c,l;if(null==r&&(r=n),a=t.slice(0,e),!a.length)return a;for(i(a,r),l=t.slice(e),u=0,c=l.length;u<c;u++)o=l[u],s(a,o,r);return a.sort(r).reverse()},f=function(t,e,r){var a,s,u,h,f,d,p,v,b;if(null==r&&(r=n),10*e<=t.length){if(u=t.slice(0,e).sort(r),!u.length)return u;for(s=u[u.length-1],p=t.slice(e),h=0,d=p.length;h<d;h++)a=p[h],r(a,s)<0&&(c(u,a,0,null,r),u.pop(),s=u[u.length-1]);return u}for(i(t,r),b=[],f=0,v=l(e,t.length);0<=v?f<v:f>v;0<=v?++f:--f)b.push(o(t,r));return b},p=function(t,e,r,i){var o,a,s;null==i&&(i=n),o=t[r];while(r>e){if(s=r-1>>1,a=t[s],!(i(o,a)<0))break;t[r]=a,r=s}return t[r]=o},v=function(t,e,r){var i,o,a,s,u;null==r&&(r=n),o=t.length,u=e,a=t[e],i=2*e+1;while(i<o)s=i+1,s<o&&!(r(t[i],t[s])<0)&&(i=s),t[e]=t[i],e=i,i=2*e+1;return t[e]=a,p(t,u,e,r)},e=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=a,t.pop=o,t.replace=u,t.pushpop=s,t.heapify=i,t.updateItem=d,t.nlargest=h,t.nsmallest=f,t.prototype.push=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return u(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return s(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return i(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return d(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return e=new t,e.nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),(null!==t?t.exports:void 0)?t.exports=e:window.Heap=e}).call(this)}).call(this,n("62e4")(t))},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,a=o(e),s=a.length,u=0;while(s>u)r.f(t,n=a[u++],e[n]);return t}},"175a":function(t,e,n){t.exports=n("1248")},"1c9d":function(t,e,n){"use strict";var r=n("2c01"),i=n.n(r);i.a},"20d6":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"22b1":function(t,e){function n(t){var e=[[t.x,t.y]];while(t.parent)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function r(t,e){var r=n(t),i=n(e);return r.concat(i.reverse())}function i(t){var e,n,r,i,o,a=0;for(e=1;e<t.length;++e)n=t[e-1],r=t[e],i=n[0]-r[0],o=n[1]-r[1],a+=Math.sqrt(i*i+o*o);return a}function o(t,e,n,r){var i,o,a,s,u,c,l=Math.abs,h=[];a=l(n-t),s=l(r-e),i=t<n?1:-1,o=e<r?1:-1,u=a-s;while(1){if(h.push([t,e]),t===n&&e===r)break;c=2*u,c>-s&&(u-=s,t+=i),c<a&&(u+=a,e+=o)}return h}function a(t){var e,n,r,i,a,s,u=[],c=t.length;if(c<2)return u;for(a=0;a<c-1;++a)for(e=t[a],n=t[a+1],r=o(e[0],e[1],n[0],n[1]),i=r.length,s=0;s<i-1;++s)u.push(r[s]);return u.push(t[c-1]),u}function s(t,e){var n,r,i,a,s,u,c,l,h,f,d,p=e.length,v=e[0][0],b=e[0][1],y=e[p-1][0],g=e[p-1][1];for(n=v,r=b,s=[[n,r]],u=2;u<p;++u){for(l=e[u],i=l[0],a=l[1],h=o(n,r,i,a),d=!1,c=1;c<h.length;++c)if(f=h[c],!t.isWalkableAt(f[0],f[1])){d=!0;break}d&&(lastValidCoord=e[u-1],s.push(lastValidCoord),n=lastValidCoord[0],r=lastValidCoord[1])}return s.push([y,g]),s}function u(t){if(t.length<3)return t;var e,n,r,i,o,a,s=[],u=t[0][0],c=t[0][1],l=t[1][0],h=t[1][1],f=l-u,d=h-c;for(o=Math.sqrt(f*f+d*d),f/=o,d/=o,s.push([u,c]),a=2;a<t.length;a++)e=l,n=h,r=f,i=d,l=t[a][0],h=t[a][1],f=l-e,d=h-n,o=Math.sqrt(f*f+d*d),f/=o,d/=o,f===r&&d===i||s.push([e,n]);return s.push([l,h]),s}e.backtrace=n,e.biBacktrace=r,e.pathLength=i,e.interpolate=o,e.expandPath=a,e.smoothenPath=s,e.compressPath=u},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"25ee":function(t,e,n){var r=n("3f6a");function i(t){r.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}i.prototype=new r,i.prototype.constructor=i,t.exports=i},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"28e0":function(t,e){function n(t,e,n){this.x=t,this.y=e,this.walkable=void 0===n||n}t.exports=n},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),a=n("ca5a")("src"),s="toString",u=Function[s],c=(""+u).split(s);n("8378").inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n("230e")("iframe"),r=o.length,i="<",a=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;while(r--)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},"2b2a":function(t,e,n){n("22b1");var r=n("1196"),i=n("28e0"),o=n("8b6a");function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||r.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||r.manhattan:this.heuristic=t.heuristic||r.octile}a.prototype.findPath=function(t,e,n,r,o){var a,s,u,c=(new Date).getTime(),l=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),h=function(t,e){return t.x===e.x||t.y===e.y?1:Math.SQRT2},f=function(t,e,n,r,a){if(0,this.timeLimit>0&&(new Date).getTime()-c>1e3*this.timeLimit)return 1/0;var s,u,d,v,b=e+l(t,p)*this.weight;if(b>n)return b;if(t==p)return r[a]=[t.x,t.y],t;var y=o.getNeighbors(t,this.diagonalMovement);for(d=0,s=1/0;v=y[d];++d){if(this.trackRecursion&&(v.retainCount=v.retainCount+1||1,!0!==v.tested&&(v.tested=!0)),u=f(v,e+h(t,v),n,r,a+1),u instanceof i)return r[a]=[t.x,t.y],u;this.trackRecursion&&0===--v.retainCount&&(v.tested=!1),u<s&&(s=u)}return s}.bind(this),d=o.getNodeAt(t,e),p=o.getNodeAt(n,r),v=l(d,p);for(a=0;1;++a){if(s=[],u=f(d,0,v,s,0),u===1/0)return[];if(u instanceof i)return s;v=u}return[]},t.exports=a},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o,s=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};s.store=r},"2c01":function(t,e,n){},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"313c":function(t,e,n){var r=n("175a"),i=n("22b1"),o=n("1196");n("8b6a");function a(t){t=t||{},this.heuristic=t.heuristic||o.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}a.prototype.findPath=function(t,e,n,o,a){var s,u=this.openList=new r(function(t,e){return t.f-e.f}),c=this.startNode=a.getNodeAt(t,e),l=this.endNode=a.getNodeAt(n,o);this.grid=a,c.g=0,c.f=0,u.push(c),c.opened=!0;while(!u.empty()){if(s=u.pop(),s.closed=!0,s===l)return i.expandPath(i.backtrace(l));this._identifySuccessors(s)}return[]},a.prototype._identifySuccessors=function(t){var e,n,r,i,a,s,u,c,l,h,f=this.grid,d=this.heuristic,p=this.openList,v=this.endNode.x,b=this.endNode.y,y=t.x,g=t.y,m=Math.abs;Math.max;for(e=this._findNeighbors(t),i=0,a=e.length;i<a;++i)if(n=e[i],r=this._jump(n[0],n[1],y,g),r){if(s=r[0],u=r[1],h=f.getNodeAt(s,u),h.closed)continue;c=o.octile(m(s-y),m(u-g)),l=t.g+c,(!h.opened||l<h.g)&&(h.g=l,h.h=h.h||d(m(s-v),m(u-b)),h.f=h.g+h.h,h.parent=t,h.opened?p.updateItem(h):(p.push(h),h.opened=!0))}},t.exports=a},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"34a3":function(t,e,n){var r=n("313c"),i=n("8b6a");function o(t){r.call(this,t)}o.prototype=new r,o.prototype.constructor=o,o.prototype._jump=function(t,e,n,r){var i=this.grid,o=t-n,a=e-r;if(!i.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(i.getNodeAt(t,e).tested=!0),i.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==o){if(i.isWalkableAt(t,e-1)&&!i.isWalkableAt(t-o,e-1)||i.isWalkableAt(t,e+1)&&!i.isWalkableAt(t-o,e+1))return[t,e]}else{if(0===a)throw new Error("Only horizontal and vertical movements are allowed");if(i.isWalkableAt(t-1,e)&&!i.isWalkableAt(t-1,e-a)||i.isWalkableAt(t+1,e)&&!i.isWalkableAt(t+1,e-a))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+o,e+a,t,e)},o.prototype._findNeighbors=function(t){var e,n,r,o,a,s,u,c,l=t.parent,h=t.x,f=t.y,d=this.grid,p=[];if(l)e=l.x,n=l.y,r=(h-e)/Math.max(Math.abs(h-e),1),o=(f-n)/Math.max(Math.abs(f-n),1),0!==r?(d.isWalkableAt(h,f-1)&&p.push([h,f-1]),d.isWalkableAt(h,f+1)&&p.push([h,f+1]),d.isWalkableAt(h+r,f)&&p.push([h+r,f])):0!==o&&(d.isWalkableAt(h-1,f)&&p.push([h-1,f]),d.isWalkableAt(h+1,f)&&p.push([h+1,f]),d.isWalkableAt(h,f+o)&&p.push([h,f+o]));else for(a=d.getNeighbors(t,i.Never),u=0,c=a.length;u<c;++u)s=a[u],p.push([s.x,s.y]);return p},t.exports=o},"36bd":function(t,e,n){"use strict";var r=n("4bf8"),i=n("77f1"),o=n("9def");t.exports=function(t){var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);while(c>s)e[s++]=t;return e}},3716:function(t,e,n){"use strict";var r=n("bfbf"),i=n.n(r);i.a},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"3ca5":function(t,e,n){var r=n("7726").parseInt,i=n("aa77").trim,o=n("fdef"),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},"3f6a":function(t,e,n){var r=n("175a"),i=n("22b1"),o=n("1196"),a=n("8b6a");function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||o.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=t.heuristic||o.manhattan:this.heuristic=t.heuristic||o.octile}s.prototype.findPath=function(t,e,n,o,a){var s,u,c,l,h,f,d,p,v=function(t,e){return t.f-e.f},b=new r(v),y=new r(v),g=a.getNodeAt(t,e),m=a.getNodeAt(n,o),w=this.heuristic,x=this.diagonalMovement,k=this.weight,_=Math.abs,A=Math.SQRT2,N=1,O=2;g.g=0,g.f=0,b.push(g),g.opened=N,m.g=0,m.f=0,y.push(m),m.opened=O;while(!b.empty()&&!y.empty()){for(s=b.pop(),s.closed=!0,u=a.getNeighbors(s,x),l=0,h=u.length;l<h;++l)if(c=u[l],!c.closed){if(c.opened===O)return i.biBacktrace(s,c);f=c.x,d=c.y,p=s.g+(f-s.x===0||d-s.y===0?1:A),(!c.opened||p<c.g)&&(c.g=p,c.h=c.h||k*w(_(f-n),_(d-o)),c.f=c.g+c.h,c.parent=s,c.opened?b.updateItem(c):(b.push(c),c.opened=N))}for(s=y.pop(),s.closed=!0,u=a.getNeighbors(s,x),l=0,h=u.length;l<h;++l)if(c=u[l],!c.closed){if(c.opened===N)return i.biBacktrace(c,s);f=c.x,d=c.y,p=s.g+(f-s.x===0||d-s.y===0?1:A),(!c.opened||p<c.g)&&(c.g=p,c.h=c.h||k*w(_(f-t),_(d-e)),c.f=c.g+c.h,c.parent=s,c.opened?y.updateItem(c):(y.push(c),c.opened=O))}}return[]},t.exports=s},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},"4d89":function(t,e,n){},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),a=n("2aba"),s=n("9b43"),u="prototype",c=function(t,e,n){var l,h,f,d,p=t&c.F,v=t&c.G,b=t&c.S,y=t&c.P,g=t&c.B,m=v?r:b?r[e]||(r[e]={}):(r[e]||{})[u],w=v?i:i[e]||(i[e]={}),x=w[u]||(w[u]={});for(l in v&&(n=e),n)h=!p&&m&&void 0!==m[l],f=(h?m:n)[l],d=g&&h?s(f,r):y&&"function"==typeof f?s(Function.call,f):f,m&&a(m,l,f,t&c.U),w[l]!=f&&o(w,l,d),y&&x[l]!=f&&(x[l]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"5dbc":function(t,e,n){var r=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6c7b":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"719c":function(t,e,n){var r=n("22b1"),i=n("8b6a");function o(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never)}o.prototype.findPath=function(t,e,n,i,o){var a,s,u,c,l,h=[],f=this.diagonalMovement,d=o.getNodeAt(t,e),p=o.getNodeAt(n,i);h.push(d),d.opened=!0;while(h.length){if(u=h.shift(),u.closed=!0,u===p)return r.backtrace(p);for(a=o.getNeighbors(u,f),c=0,l=a.length;c<l;++c)s=a[c],s.closed||s.opened||(h.push(s),s.opened=!0,s.parent=u)}return[]},t.exports=o},7333:function(t,e,n){"use strict";var r=n("0d58"),i=n("2621"),o=n("52a7"),a=n("4bf8"),s=n("626a"),u=Object.assign;t.exports=!u||n("79e5")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){var n=a(t),u=arguments.length,c=1,l=i.f,h=o.f;while(u>c){var f,d=s(arguments[c++]),p=l?r(d).concat(l(d)):r(d),v=p.length,b=0;while(v>b)h.call(d,f=p[b++])&&(n[f]=d[f])}return n}:u},7514:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a96":function(t,e,n){var r=n("3f6a");function i(t){r.call(this,t),this.heuristic=function(t,e){return 0}}i.prototype=new r,i.prototype.constructor=i,t.exports=i},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},8378:function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),a=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"8b6a":function(t,e){var n={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};t.exports=n},"8b97":function(t,e,n){var r=n("d3f4"),i=n("cb7c"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},9093:function(t,e,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a8a6:function(t,e,n){var r=n("28e0"),i=n("8b6a");function o(t,e,n){var r;"object"!==typeof t?r=t:(e=t.length,r=t[0].length,n=t),this.width=r,this.height=e,this.nodes=this._buildNodes(r,e,n)}o.prototype._buildNodes=function(t,e,n){var i,o,a=new Array(e);for(i=0;i<e;++i)for(a[i]=new Array(t),o=0;o<t;++o)a[i][o]=new r(o,i);if(void 0===n)return a;if(n.length!==e||n[0].length!==t)throw new Error("Matrix size does not fit");for(i=0;i<e;++i)for(o=0;o<t;++o)n[i][o]&&(a[i][o].walkable=!1);return a},o.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},o.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},o.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},o.prototype.setWalkableAt=function(t,e,n){this.nodes[e][t].walkable=n},o.prototype.getNeighbors=function(t,e){var n=t.x,r=t.y,o=[],a=!1,s=!1,u=!1,c=!1,l=!1,h=!1,f=!1,d=!1,p=this.nodes;if(this.isWalkableAt(n,r-1)&&(o.push(p[r-1][n]),a=!0),this.isWalkableAt(n+1,r)&&(o.push(p[r][n+1]),u=!0),this.isWalkableAt(n,r+1)&&(o.push(p[r+1][n]),l=!0),this.isWalkableAt(n-1,r)&&(o.push(p[r][n-1]),f=!0),e===i.Never)return o;if(e===i.OnlyWhenNoObstacles)s=f&&a,c=a&&u,h=u&&l,d=l&&f;else if(e===i.IfAtMostOneObstacle)s=f||a,c=a||u,h=u||l,d=l||f;else{if(e!==i.Always)throw new Error("Incorrect value of diagonalMovement");s=!0,c=!0,h=!0,d=!0}return s&&this.isWalkableAt(n-1,r-1)&&o.push(p[r-1][n-1]),c&&this.isWalkableAt(n+1,r-1)&&o.push(p[r-1][n+1]),h&&this.isWalkableAt(n+1,r+1)&&o.push(p[r+1][n+1]),d&&this.isWalkableAt(n-1,r+1)&&o.push(p[r+1][n-1]),o},o.prototype.clone=function(){var t,e,n=this.width,i=this.height,a=this.nodes,s=new o(n,i),u=new Array(i);for(t=0;t<i;++t)for(u[t]=new Array(n),e=0;e<n;++e)u[t][e]=new r(e,t,a[t][e].walkable);return s.nodes=u,s},t.exports=o},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),a=n("fdef"),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),h=function(t,e,n){var i={},s=o(function(){return!!a[t]()||u[t]()!=u}),c=i[t]=s?e(f):a[t];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},f=h.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=h},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),a=n("7726"),s=n("32e9"),u=n("84f2"),c=n("2b4c"),l=c("iterator"),h=c("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),v=0;v<p.length;v++){var b,y=p[v],g=d[y],m=a[y],w=m&&m.prototype;if(w&&(w[l]||s(w,l,f),w[h]||s(w,h,y),u[y]=f,g))for(b in r)w[b]||o(w,b,r[b],!0)}},ae6c:function(t,e,n){var r=n("22b1"),i=n("8b6a");function o(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never)}o.prototype.findPath=function(t,e,n,i,o){var a,s,u,c,l,h=o.getNodeAt(t,e),f=o.getNodeAt(n,i),d=[],p=[],v=this.diagonalMovement,b=0,y=1;d.push(h),h.opened=!0,h.by=b,p.push(f),f.opened=!0,f.by=y;while(d.length&&p.length){for(u=d.shift(),u.closed=!0,a=o.getNeighbors(u,v),c=0,l=a.length;c<l;++c)if(s=a[c],!s.closed)if(s.opened){if(s.by===y)return r.biBacktrace(u,s)}else d.push(s),s.parent=u,s.opened=!0,s.by=b;for(u=p.shift(),u.closed=!0,a=o.getNeighbors(u,v),c=0,l=a.length;c<l;++c)if(s=a[c],!s.closed)if(s.opened){if(s.by===b)return r.biBacktrace(s,u)}else p.push(s),s.parent=u,s.opened=!0,s.by=y}return[]},t.exports=o},bd5f:function(t,e,n){t.exports=n("f680")},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},bfbf:function(t,e,n){},c056:function(t,e,n){"use strict";var r=n("fb50"),i=n.n(r);i.a},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),a=n("5dbc"),s=n("6a99"),u=n("79e5"),c=n("9093").f,l=n("11e9").f,h=n("86cc").f,f=n("aa77").trim,d="Number",p=r[d],v=p,b=p.prototype,y=o(n("2aeb")(b))==d,g="trim"in String.prototype,m=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():f(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if(a=u.charCodeAt(c),a<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(y?u(function(){b.valueOf.call(n)}):o(n)!=d)?a(new v(m(e)),n,p):m(e)};for(var w,x=n("9e1e")?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;x.length>k;k++)i(v,w=x[k])&&!i(p,w)&&h(p,w,l(v,w));p.prototype=b,b.constructor=p,n("2aba")(r,d,p)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),a=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},cc71:function(t,e,n){"use strict";var r=n("4d89"),i=n.n(r);i.a},cc7a:function(t,e,n){var r=n("8b6a"),i=n("34a3"),o=n("e010"),a=n("ed06"),s=n("d6cb");function u(t){return t=t||{},t.diagonalMovement===r.Never?new i(t):t.diagonalMovement===r.Always?new o(t):t.diagonalMovement===r.OnlyWhenNoObstacles?new a(t):new s(t)}t.exports=u},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},cd3f:function(t,e,n){(function(t,n){var r=200,i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",h="[object Function]",f="[object GeneratorFunction]",d="[object Map]",p="[object Number]",v="[object Object]",b="[object Promise]",y="[object RegExp]",g="[object Set]",m="[object String]",w="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",_="[object DataView]",A="[object Float32Array]",N="[object Float64Array]",O="[object Int8Array]",M="[object Int16Array]",W="[object Int32Array]",P="[object Uint8Array]",j="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]",I=/[\\^$.*+?()[\]{}|]/g,E=/\w*$/,L=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,T={};T[a]=T[s]=T[k]=T[_]=T[u]=T[c]=T[A]=T[N]=T[O]=T[M]=T[W]=T[d]=T[p]=T[v]=T[y]=T[g]=T[m]=T[w]=T[P]=T[j]=T[C]=T[S]=!0,T[l]=T[h]=T[x]=!1;var X="object"==typeof t&&t&&t.Object===Object&&t,$="object"==typeof self&&self&&self.Object===Object&&self,Y=X||$||Function("return this")(),R=e&&!e.nodeType&&e,D=R&&"object"==typeof n&&n&&!n.nodeType&&n,H=D&&D.exports===R;function B(t,e){return t.set(e[0],e[1]),t}function G(t,e){return t.add(e),t}function V(t,e){var n=-1,r=t?t.length:0;while(++n<r)if(!1===e(t[n],n,t))break;return t}function U(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}function z(t,e,n,r){var i=-1,o=t?t.length:0;r&&o&&(n=t[++i]);while(++i<o)n=e(n,t[i],i,t);return n}function J(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}function q(t,e){return null==t?void 0:t[e]}function Q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Z(t,e){return function(n){return t(e(n))}}function tt(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var et=Array.prototype,nt=Function.prototype,rt=Object.prototype,it=Y["__core-js_shared__"],ot=function(){var t=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),at=nt.toString,st=rt.hasOwnProperty,ut=rt.toString,ct=RegExp("^"+at.call(st).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=H?Y.Buffer:void 0,ht=Y.Symbol,ft=Y.Uint8Array,dt=Z(Object.getPrototypeOf,Object),pt=Object.create,vt=rt.propertyIsEnumerable,bt=et.splice,yt=Object.getOwnPropertySymbols,gt=lt?lt.isBuffer:void 0,mt=Z(Object.keys,Object),wt=Oe(Y,"DataView"),xt=Oe(Y,"Map"),kt=Oe(Y,"Promise"),_t=Oe(Y,"Set"),At=Oe(Y,"WeakMap"),Nt=Oe(Object,"create"),Ot=Fe(wt),Mt=Fe(xt),Wt=Fe(kt),Pt=Fe(_t),jt=Fe(At),Ct=ht?ht.prototype:void 0,St=Ct?Ct.valueOf:void 0;function It(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Et(){this.__data__=Nt?Nt(null):{}}function Lt(t){return this.has(t)&&delete this.__data__[t]}function Ft(t){var e=this.__data__;if(Nt){var n=e[t];return n===i?void 0:n}return st.call(e,t)?e[t]:void 0}function Tt(t){var e=this.__data__;return Nt?void 0!==e[t]:st.call(e,t)}function Xt(t,e){var n=this.__data__;return n[t]=Nt&&void 0===e?i:e,this}function $t(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Yt(){this.__data__=[]}function Rt(t){var e=this.__data__,n=oe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():bt.call(e,n,1),!0}function Dt(t){var e=this.__data__,n=oe(e,t);return n<0?void 0:e[n][1]}function Ht(t){return oe(this.__data__,t)>-1}function Bt(t,e){var n=this.__data__,r=oe(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function Gt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Vt(){this.__data__={hash:new It,map:new(xt||$t),string:new It}}function Ut(t){return Ne(this,t)["delete"](t)}function zt(t){return Ne(this,t).get(t)}function Jt(t){return Ne(this,t).has(t)}function qt(t,e){return Ne(this,t).set(t,e),this}function Qt(t){this.__data__=new $t(t)}function Kt(){this.__data__=new $t}function Zt(t){return this.__data__["delete"](t)}function te(t){return this.__data__.get(t)}function ee(t){return this.__data__.has(t)}function ne(t,e){var n=this.__data__;if(n instanceof $t){var i=n.__data__;if(!xt||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Gt(i)}return n.set(t,e),this}function re(t,e){var n=Ye(t)||$e(t)?J(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!st.call(t,o)||i&&("length"==o||Se(o,r))||n.push(o);return n}function ie(t,e,n){var r=t[e];st.call(t,e)&&Xe(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function oe(t,e){var n=t.length;while(n--)if(Xe(t[n][0],e))return n;return-1}function ae(t,e){return t&&ke(e,ze(e),t)}function se(t,e,n,r,i,o,s){var u;if(r&&(u=o?r(t,i,o,s):r(t)),void 0!==u)return u;if(!Ve(t))return t;var c=Ye(t);if(c){if(u=Pe(t),!e)return xe(t,u)}else{var l=We(t),d=l==h||l==f;if(He(t))return de(t,e);if(l==v||l==a||d&&!o){if(Q(t))return o?t:{};if(u=je(d?{}:t),!e)return _e(t,ae(u,t))}else{if(!T[l])return o?t:{};u=Ce(t,l,se,e)}}s||(s=new Qt);var p=s.get(t);if(p)return p;if(s.set(t,u),!c)var b=n?Ae(t):ze(t);return V(b||t,function(i,o){b&&(o=i,i=t[o]),ie(u,o,se(i,e,n,r,o,t,s))}),u}function ue(t){return Ve(t)?pt(t):{}}function ce(t,e,n){var r=e(t);return Ye(t)?r:U(r,n(t))}function le(t){return ut.call(t)}function he(t){if(!Ve(t)||Ee(t))return!1;var e=Be(t)||Q(t)?ct:L;return e.test(Fe(t))}function fe(t){if(!Le(t))return mt(t);var e=[];for(var n in Object(t))st.call(t,n)&&"constructor"!=n&&e.push(n);return e}function de(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function pe(t){var e=new t.constructor(t.byteLength);return new ft(e).set(new ft(t)),e}function ve(t,e){var n=e?pe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function be(t,e,n){var r=e?n(K(t),!0):K(t);return z(r,B,new t.constructor)}function ye(t){var e=new t.constructor(t.source,E.exec(t));return e.lastIndex=t.lastIndex,e}function ge(t,e,n){var r=e?n(tt(t),!0):tt(t);return z(r,G,new t.constructor)}function me(t){return St?Object(St.call(t)):{}}function we(t,e){var n=e?pe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function xe(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r)e[n]=t[n];return e}function ke(t,e,n,r){n||(n={});var i=-1,o=e.length;while(++i<o){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;ie(n,a,void 0===s?t[a]:s)}return n}function _e(t,e){return ke(t,Me(t),e)}function Ae(t){return ce(t,ze,Me)}function Ne(t,e){var n=t.__data__;return Ie(e)?n["string"==typeof e?"string":"hash"]:n.map}function Oe(t,e){var n=q(t,e);return he(n)?n:void 0}It.prototype.clear=Et,It.prototype["delete"]=Lt,It.prototype.get=Ft,It.prototype.has=Tt,It.prototype.set=Xt,$t.prototype.clear=Yt,$t.prototype["delete"]=Rt,$t.prototype.get=Dt,$t.prototype.has=Ht,$t.prototype.set=Bt,Gt.prototype.clear=Vt,Gt.prototype["delete"]=Ut,Gt.prototype.get=zt,Gt.prototype.has=Jt,Gt.prototype.set=qt,Qt.prototype.clear=Kt,Qt.prototype["delete"]=Zt,Qt.prototype.get=te,Qt.prototype.has=ee,Qt.prototype.set=ne;var Me=yt?Z(yt,Object):Je,We=le;function Pe(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&st.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function je(t){return"function"!=typeof t.constructor||Le(t)?{}:ue(dt(t))}function Ce(t,e,n,r){var i=t.constructor;switch(e){case k:return pe(t);case u:case c:return new i(+t);case _:return ve(t,r);case A:case N:case O:case M:case W:case P:case j:case C:case S:return we(t,r);case d:return be(t,r,n);case p:case m:return new i(t);case y:return ye(t);case g:return ge(t,r,n);case w:return me(t)}}function Se(t,e){return e=null==e?o:e,!!e&&("number"==typeof t||F.test(t))&&t>-1&&t%1==0&&t<e}function Ie(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ee(t){return!!ot&&ot in t}function Le(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||rt;return t===n}function Fe(t){if(null!=t){try{return at.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Te(t){return se(t,!0,!0)}function Xe(t,e){return t===e||t!==t&&e!==e}function $e(t){return De(t)&&st.call(t,"callee")&&(!vt.call(t,"callee")||ut.call(t)==a)}(wt&&We(new wt(new ArrayBuffer(1)))!=_||xt&&We(new xt)!=d||kt&&We(kt.resolve())!=b||_t&&We(new _t)!=g||At&&We(new At)!=x)&&(We=function(t){var e=ut.call(t),n=e==v?t.constructor:void 0,r=n?Fe(n):void 0;if(r)switch(r){case Ot:return _;case Mt:return d;case Wt:return b;case Pt:return g;case jt:return x}return e});var Ye=Array.isArray;function Re(t){return null!=t&&Ge(t.length)&&!Be(t)}function De(t){return Ue(t)&&Re(t)}var He=gt||qe;function Be(t){var e=Ve(t)?ut.call(t):"";return e==h||e==f}function Ge(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function Ve(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ue(t){return!!t&&"object"==typeof t}function ze(t){return Re(t)?re(t):fe(t)}function Je(){return[]}function qe(){return!1}n.exports=Te}).call(this,n("c8ba"),n("62e4")(t))},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);while(e.length>u)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d6cb:function(t,e,n){var r=n("313c"),i=n("8b6a");function o(t){r.call(this,t)}o.prototype=new r,o.prototype.constructor=o,o.prototype._jump=function(t,e,n,r){var i=this.grid,o=t-n,a=e-r;if(!i.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(i.getNodeAt(t,e).tested=!0),i.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==o&&0!==a){if(i.isWalkableAt(t-o,e+a)&&!i.isWalkableAt(t-o,e)||i.isWalkableAt(t+o,e-a)&&!i.isWalkableAt(t,e-a))return[t,e];if(this._jump(t+o,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==o){if(i.isWalkableAt(t+o,e+1)&&!i.isWalkableAt(t,e+1)||i.isWalkableAt(t+o,e-1)&&!i.isWalkableAt(t,e-1))return[t,e]}else if(i.isWalkableAt(t+1,e+a)&&!i.isWalkableAt(t+1,e)||i.isWalkableAt(t-1,e+a)&&!i.isWalkableAt(t-1,e))return[t,e];return i.isWalkableAt(t+o,e)||i.isWalkableAt(t,e+a)?this._jump(t+o,e+a,t,e):null},o.prototype._findNeighbors=function(t){var e,n,r,o,a,s,u,c,l=t.parent,h=t.x,f=t.y,d=this.grid,p=[];if(l)e=l.x,n=l.y,r=(h-e)/Math.max(Math.abs(h-e),1),o=(f-n)/Math.max(Math.abs(f-n),1),0!==r&&0!==o?(d.isWalkableAt(h,f+o)&&p.push([h,f+o]),d.isWalkableAt(h+r,f)&&p.push([h+r,f]),(d.isWalkableAt(h,f+o)||d.isWalkableAt(h+r,f))&&p.push([h+r,f+o]),!d.isWalkableAt(h-r,f)&&d.isWalkableAt(h,f+o)&&p.push([h-r,f+o]),!d.isWalkableAt(h,f-o)&&d.isWalkableAt(h+r,f)&&p.push([h+r,f-o])):0===r?d.isWalkableAt(h,f+o)&&(p.push([h,f+o]),d.isWalkableAt(h+1,f)||p.push([h+1,f+o]),d.isWalkableAt(h-1,f)||p.push([h-1,f+o])):d.isWalkableAt(h+r,f)&&(p.push([h+r,f]),d.isWalkableAt(h,f+1)||p.push([h+r,f+1]),d.isWalkableAt(h,f-1)||p.push([h+r,f-1]));else for(a=d.getNeighbors(t,i.IfAtMostOneObstacle),u=0,c=a.length;u<c;++u)s=a[u],p.push([s.x,s.y]);return p},t.exports=o},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},deec:function(t,e,n){var r=n("0c09");function i(t){r.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}i.prototype=new r,i.prototype.constructor=i,t.exports=i},e010:function(t,e,n){var r=n("313c"),i=n("8b6a");function o(t){r.call(this,t)}o.prototype=new r,o.prototype.constructor=o,o.prototype._jump=function(t,e,n,r){var i=this.grid,o=t-n,a=e-r;if(!i.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(i.getNodeAt(t,e).tested=!0),i.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==o&&0!==a){if(i.isWalkableAt(t-o,e+a)&&!i.isWalkableAt(t-o,e)||i.isWalkableAt(t+o,e-a)&&!i.isWalkableAt(t,e-a))return[t,e];if(this._jump(t+o,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==o){if(i.isWalkableAt(t+o,e+1)&&!i.isWalkableAt(t,e+1)||i.isWalkableAt(t+o,e-1)&&!i.isWalkableAt(t,e-1))return[t,e]}else if(i.isWalkableAt(t+1,e+a)&&!i.isWalkableAt(t+1,e)||i.isWalkableAt(t-1,e+a)&&!i.isWalkableAt(t-1,e))return[t,e];return this._jump(t+o,e+a,t,e)},o.prototype._findNeighbors=function(t){var e,n,r,o,a,s,u,c,l=t.parent,h=t.x,f=t.y,d=this.grid,p=[];if(l)e=l.x,n=l.y,r=(h-e)/Math.max(Math.abs(h-e),1),o=(f-n)/Math.max(Math.abs(f-n),1),0!==r&&0!==o?(d.isWalkableAt(h,f+o)&&p.push([h,f+o]),d.isWalkableAt(h+r,f)&&p.push([h+r,f]),d.isWalkableAt(h+r,f+o)&&p.push([h+r,f+o]),d.isWalkableAt(h-r,f)||p.push([h-r,f+o]),d.isWalkableAt(h,f-o)||p.push([h+r,f-o])):0===r?(d.isWalkableAt(h,f+o)&&p.push([h,f+o]),d.isWalkableAt(h+1,f)||p.push([h+1,f+o]),d.isWalkableAt(h-1,f)||p.push([h-1,f+o])):(d.isWalkableAt(h+r,f)&&p.push([h+r,f]),d.isWalkableAt(h,f+1)||p.push([h+r,f+1]),d.isWalkableAt(h,f-1)||p.push([h+r,f-1]));else for(a=d.getNeighbors(t,i.Always),u=0,c=a.length;u<c;++u)s=a[u],p.push([s.x,s.y]);return p},t.exports=o},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e853:function(t,e,n){var r=n("d3f4"),i=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},ed06:function(t,e,n){var r=n("313c"),i=n("8b6a");function o(t){r.call(this,t)}o.prototype=new r,o.prototype.constructor=o,o.prototype._jump=function(t,e,n,r){var i=this.grid,o=t-n,a=e-r;if(!i.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(i.getNodeAt(t,e).tested=!0),i.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==o&&0!==a){if(this._jump(t+o,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==o){if(i.isWalkableAt(t,e-1)&&!i.isWalkableAt(t-o,e-1)||i.isWalkableAt(t,e+1)&&!i.isWalkableAt(t-o,e+1))return[t,e]}else if(0!==a&&(i.isWalkableAt(t-1,e)&&!i.isWalkableAt(t-1,e-a)||i.isWalkableAt(t+1,e)&&!i.isWalkableAt(t+1,e-a)))return[t,e];return i.isWalkableAt(t+o,e)&&i.isWalkableAt(t,e+a)?this._jump(t+o,e+a,t,e):null},o.prototype._findNeighbors=function(t){var e,n,r,o,a,s,u,c,l,h=t.parent,f=t.x,d=t.y,p=this.grid,v=[];if(h){if(e=h.x,n=h.y,r=(f-e)/Math.max(Math.abs(f-e),1),o=(d-n)/Math.max(Math.abs(d-n),1),0!==r&&0!==o)p.isWalkableAt(f,d+o)&&v.push([f,d+o]),p.isWalkableAt(f+r,d)&&v.push([f+r,d]),p.isWalkableAt(f,d+o)&&p.isWalkableAt(f+r,d)&&v.push([f+r,d+o]);else if(0!==r){l=p.isWalkableAt(f+r,d);var b=p.isWalkableAt(f,d+1),y=p.isWalkableAt(f,d-1);l&&(v.push([f+r,d]),b&&v.push([f+r,d+1]),y&&v.push([f+r,d-1])),b&&v.push([f,d+1]),y&&v.push([f,d-1])}else if(0!==o){l=p.isWalkableAt(f,d+o);var g=p.isWalkableAt(f+1,d),m=p.isWalkableAt(f-1,d);l&&(v.push([f,d+o]),g&&v.push([f+1,d+o]),m&&v.push([f-1,d+o])),g&&v.push([f+1,d]),m&&v.push([f-1,d])}}else for(a=p.getNeighbors(t,i.OnlyWhenNoObstacles),u=0,c=a.length;u<c;++u)s=a[u],v.push([s.x,s.y]);return v},t.exports=o},f680:function(t,e,n){t.exports={Heap:n("175a"),Node:n("28e0"),Grid:n("a8a6"),Util:n("22b1"),DiagonalMovement:n("8b6a"),Heuristic:n("1196"),AStarFinder:n("0c09"),BestFirstFinder:n("deec"),BreadthFirstFinder:n("719c"),DijkstraFinder:n("015f"),BiAStarFinder:n("3f6a"),BiBestFirstFinder:n("25ee"),BiBreadthFirstFinder:n("ae6c"),BiDijkstraFinder:n("7a96"),IDAStarFinder:n("2b2a"),JumpPointFinder:n("cc7a")}},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&((r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=r[1]));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flow-chart"},[n("svg",{staticClass:"svg-container",attrs:{width:t.width,height:t.height,viewBox:t.svgOffsetX*t.scale+" "+t.svgOffsetY*t.scale+" "+t.width*t.scale+" "+t.height*t.scale,cursor:t.inGrab?"grabbing":"grab"},on:{mousedown:function(e){return e.stopPropagation(),t.handleMouseDown(e)},mousewheel:t.handleMousewheel,click:function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:t.handleContainerClick(e):null}}},[t.showGrid?n("FlowChartGrid",{attrs:{row:t.row,col:t.col,maxWidth:t.maxWidth,maxHeight:t.maxHeight,blocks:t.blocks,path:t.path}}):t._e(),t._l(t.paths,function(e,r){return n("FlowChartPath",{key:r,staticClass:"flow-chart-path",attrs:{path:e,scale:t.scale,"path-color":t.pathColor,"current-path-id":t.currentPathId,grid:t.grid,row:t.row,col:t.col,"unit-x":t.unitX,"unit-y":t.unitY,"use-router":t.useRouter},on:{"update-path":t.handleUpdatePath},nativeOn:{click:function(n){n.stopPropagation(),t.handleClickPath(e)}}})}),t._l(t.nodes,function(e,r){return n("FlowChartNode",{key:"rect"+r,staticClass:"flow-chart-node",attrs:{node:e,"in-link":t.inLink,scale:t.scale,"view-offse-x":t.svgOffsetX,"view-offse-y":t.svgOffsetY,"max-width":t.maxWidth,"max-height":t.maxHeight,"is-link-handler":e.isLinkHandler,"current-node-id":t.currentNodeId},on:{"create-placeholder":t.createPlaceholder,"remove-node":t.removeNode,"link-node":t.linkNode,"in-link-change":function(e){return t.inLink=e},"node-change":t.nodeChange},nativeOn:{click:function(n){n.stopPropagation(),t.handleClickNode(e)}}},[t._t("content",null,{node:e,pointerEvents:"none"})],2)})],2),n("div",{staticClass:"flow-chart-tools"},[t.tools.includes("thumbnail")?n("FlowChartThumbnail",{staticClass:"flow-chart-tool",attrs:{scale:t.scale,"max-width":t.maxWidth,"max-height":t.maxHeight,"view-width":t.width,"view-height":t.height,"offset-x":t.svgOffsetX,"offset-y":t.svgOffsetY}}):t._e(),t.tools.includes("resetScale")?n("button",{staticClass:"flow-chart-tool flow-chart-reset-scale",on:{click:t.handleResetScale}},[t._v("重置缩放")]):t._e(),t.tools.includes("mousePosition")?n("div",{staticClass:"flow-chart-tool flow-chart-mouse-position"},[t._v("x: "+t._s(t.currentMousePostion.x)+"，y: "+t._s(t.currentMousePostion.y))]):t._e()],1)])},o=[],a=(n("7514"),n("20d6"),n("f751"),n("ac6a"),n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{class:t.inLink?"in-link":"",attrs:{transform:"translate("+t.currentNode.x+", "+t.currentNode.y+")"}},[n("g",{class:{"is-active":!0,"in-select":t.inSelect}},[n("rect",{attrs:{width:t.currentNode.width+6,height:t.currentNode.height+6,rx:"8",ry:"8",stroke:t.inSelect?"#FFEB3B":"#ccc","stroke-width":"4","stroke-linejoin":"round",fill:"rgba(255,255,255,0)",transform:"translate(-3, -3)"}})]),t.isLinkHandler?t._e():n("g",{staticStyle:{"user-select":"none"},attrs:{cursor:"move"},on:{mousedown:function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:(e.stopPropagation(),function(e){return t.handleMouseDown(e,t.currentNode)}(e)):null}}},[n("rect",{staticClass:"g-box",attrs:{"data-id":t.currentNode.id,width:t.currentNode.width,height:t.currentNode.height,rx:"4",ry:"4",stroke:t.currentNode.borderColor||"#2e7d32","stroke-width":"2","stroke-linejoin":"round",fill:"rgba(255,255,255,0)"}}),t._t("default",null,{pointerEvents:"none"}),n("rect",{attrs:{width:8*t.scale,height:8*t.scale,stroke:t.currentNode.indicatorColor||"#2196F3",fill:t.currentNode.indicatorColor||"#2196F3",cursor:"pointer",transform:"translate("+(t.currentNode.width/2-4*t.scale)+", "+(t.currentNode.height-1)+")"},on:{mousedown:function(e){return e.stopPropagation(),function(e){return t.handleStartLink(e,t.currentNode)}(e)}}})],2)])}),s=[];function u(t,e,n,r,i){var o=t.width,a=t.height,s=t.x,u=t.y;return s<e&&(s=e),u<n&&(u=n),s>=r-o&&(s=r-o-1),u>=i-a&&(u=i-a-1),{x:s,y:u}}var c={name:"FlowChartNode",props:{isLinkHandler:{type:Boolean,default:!1},inLink:{type:Boolean,default:!1},node:{type:Object,default:function(){}},currentNodeId:{type:String,default:""},scale:{type:Number,default:1},viewOffseX:{type:Number,default:0},viewOffseY:{type:Number,default:0},maxWidth:{type:Number,default:0},maxHeight:{type:Number,default:0}},data:function(){return{currentNode:{}}},computed:{inSelect:function(){return this.currentNodeId===this.node.id}},watch:{node:{immediate:!0,deep:!0,handler:function(t){this.currentNode=Object.assign({},t)}}},methods:{handleStartLink:function(t,e){var n=this,r=this.$parent.$svgContainer;this.$emit("in-link-change",!0);var i=t.offsetX,o=t.offsetY,a=this.createPlaceholder(e.id,(i+this.viewOffseX)*this.scale,(o+this.viewOffseY)*this.scale),s=function t(i){r.removeEventListener("mousemove",u),r.removeEventListener("mouseup",t),n.$emit("remove-node",a.id),n.$emit("in-link-change",!1);var o=i.target.getAttribute("data-id");o&&o!==e.id&&n.$emit("link-node",o,e.id)},u=function(t){n.handleMouseMove(t,a,{x:n.viewOffseX,y:n.viewOffseY})};r.addEventListener("mousemove",u),r.addEventListener("mouseup",s)},handleMouseDown:function(t,e){var n=this,r=e.x,i=e.y,o=t.offsetX,a=t.offsetY,s={x:r/this.scale-o,y:i/this.scale-a},u=this.$parent.$svgContainer,c=function t(){n.$emit("node-change",e),u.removeEventListener("mousemove",l),u.removeEventListener("mouseup",t),u.removeEventListener("mouseleave",t)},l=function(t){n.handleMouseMove(t,e,s)};u.addEventListener("mousemove",l),u.addEventListener("mouseup",c),u.addEventListener("mouseleave",c)},handleMouseMove:function(t,e,n){var r=t.offsetX,i=t.offsetY,o=e.width,a=e.height,s=(r+n.x)*this.scale,c=(i+n.y)*this.scale,l=u({x:s,y:c,width:o,height:a},0,0,this.maxWidth,this.maxHeight);Object.assign(e,l)},createPlaceholder:function(t,e,n){var r={id:Math.random()+"",prevId:t,x:e,y:n,height:0,width:0,isLinkHandler:!0};return this.$emit("create-placeholder",r),r}}},l=c;n("cc71");function h(t,e,n,r,i,o,a,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:c}}var f=h(l,a,s,!1,null,"00e5188e",null);f.options.__file="FlowChartNode.vue";var d=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("path",{attrs:{d:t.svgPath,stroke:t.inSelect?"#FFEB3B":t.pathColor,"stroke-width":t.inSelect?6:3,"stroke-linejoin":"round",fill:"none",cursor:"pointer"}})])},v=[];function b(t,e){return t.x===-e.x&&t.y===-e.y}function y(t){return 0===t.y&&0!==t.x}function g(t){return 0===t.x&&0!==t.y}function m(t,e,n){return t.x*n.x+t.y*n.y>e.x*n.x+e.y*n.y}function w(t,e,n){var r=t.x,i=t.y;return{x:r+e.x*n,y:i+e.y*n}}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return e&&k(t.prototype,e),n&&k(t,n),t}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N=function(){function t(e,n){x(this,t),A(this,"paths",[]),A(this,"startPoint",null),A(this,"endPoint",null),this.startPoint=e,this.endPoint=n,this.paths.push({type:"M",x:e.x,y:e.y})}return _(t,[{key:"addPath",value:function(t,e){return this.paths.push({type:"L",x:t,y:e}),{x:t,y:e}}},{key:"addPathWithVectorFrom",value:function(t,e,n){var r=t.x,i=t.y,o={x:r+e.x*n,y:i+e.y*n};return this.addPath(o.x,o.y),o}},{key:"formatSvgPath",value:function(){return this.paths.map(function(t){return"".concat(t.type," ").concat(t.x," ").concat(t.y)}).join(" ")}}]),t}();function O(t,e){var n=t.vector,r=e.vector;if(b(n,r)){if(y(n))return m(t,e,n)?"horizontal-invert-behind":"horizontal-invert-before";if(g(n))return m(t,e,n)?"vertical-invert-behind":"vertical-invert-before"}}function M(t,e){var n=10,r=t.x,i=t.y,o=t.vector,a=e.x,s=e.y,u=e.vector,c=new N(t,e),l={x:(r+a)/2,y:(i+s)/2},h=c.addPathWithVectorFrom(t,o,n),f=O(t,e);if("horizontal-invert-behind"===f&&(c.addPath(l.x,t.y),c.addPath(l.x,e.y)),"horizontal-invert-before"===f&&(c.addPath(l.x,t.y),c.addPath(l.x,e.y)),"vertical-invert-behind"===f){var d=w(e,u,n);c.addPath(l.x,h.y),c.addPath(l.x,d.y)}return"vertical-invert-before"===f&&(c.addPath(t.x,l.y),c.addPath(e.x,l.y)),c.addPathWithVectorFrom(e,u,n),c.addPath(a,s),c.formatSvgPath()}var W=n("bd5f"),P=n.n(W);console.log(P.a);var j={name:"FlowChartPath",props:{path:{type:Object,default:function(){}},pathColor:{type:String,default:"#b39ddb"},currentPathId:{type:String,default:""},grid:{type:Object,default:function(){return{}}},unitX:{type:Number,default:0},unitY:{type:Number,default:0},row:{type:Number,default:0},col:{type:Number,default:0},useRouter:{type:Boolean,default:!1}},data:function(){return{currentPath:null,finder:new P.a.JumpPointFinder({diagonalMovement:2}),svgPath:""}},computed:{inSelect:function(){return this.currentPathId===this.path.id}},watch:{path:{immediate:!0,deep:!0,handler:function(t){this.currentPath=t,this.svgPath=t?this.useRouter&&this.getAStartSvgPath(t.start,t.end)||M(t.start,t.end):""}}},methods:{getAStartSvgPath:function(t,e){var n=this,r=Math.floor(t.y/this.unitY),i=r+1>this.row?r:r+1,o=Math.floor(t.x/this.unitX),a=Math.floor(e.y/this.unitY)-1,s=a-1<0?0:a-1,u=Math.floor(e.x/this.unitX);if(this.grid.isBlock(i,o)||this.grid.isBlock(s,u))return"";var c=this.grid.getGrid(),l=new P.a.Grid(c),h=this.finder.findPath(o,i,u,s,l),f=P.a.Util.compressPath(h);if(!f.length)return"";this.$emit("update-path",h);var d=f[0],p=new N({x:(d[0]+.5)*this.unitX,y:t.y},e);f.forEach(function(t){p.addPath((t[0]+.5)*n.unitX,(t[1]+.5)*n.unitY)});var v=f[f.length-1];return p.addPath((v[0]+.5)*this.unitX,e.y),p.formatSvgPath()}}},C=j,S=(n("1c9d"),h(C,p,v,!1,null,"55e1041e",null));S.options.__file="FlowChartPath.vue";var I=S.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flow-chart-thumbnail"},[n("div",{staticClass:"flow-chart-thumbnail_box",style:t.boxStyle},[n("div",{staticClass:"flow-chart-thumbnail_view",style:t.style})])])},L=[],F=(n("04ff"),{name:"FlowChartThumbnail",props:{scale:{type:Number,default:1},viewWidth:{type:Number,default:640},viewHeight:{type:Number,default:640},maxWidth:{type:Number,default:1e3},maxHeight:{type:Number,default:1e3},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0}},data:function(){return{}},computed:{boxStyle:function(){var t=100,e=100;return this.maxWidth>this.maxHeight?e=100*this.maxHeight/this.maxWidth:t=100*this.maxWidth/this.maxHeight,{width:"".concat(t,"px"),height:"".concat(e,"px")}},style:function(){var t=this.boxStyle,e=t.width,n=t.height,r=Number.parseInt(e),i=Number.parseInt(n),o=r*this.viewWidth/this.maxWidth,a=i*this.viewHeight/this.maxHeight,s=i*this.offsetY*this.scale/this.maxHeight,u=r*this.offsetX*this.scale/this.maxWidth;return{width:"".concat(o*this.scale,"px"),height:"".concat(a*this.scale,"px"),top:"".concat(s,"px"),left:"".concat(u,"px")}}}}),T=F,X=(n("c056"),h(T,E,L,!1,null,"615d6b8a",null));X.options.__file="FlowChartThumbnail.vue";var $=X.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[t._l(t.blocks,function(e,r){return n("rect",{key:r,attrs:{width:t.unitX,height:t.unitY,x:e.col*t.unitX,y:e.row*t.unitY,fill:"#999"}})}),t._l(t.path,function(e,r){return n("rect",{key:"path"+r,attrs:{width:t.unitX,height:t.unitY,x:e[0]*t.unitX,y:e[1]*t.unitY,fill:"#4CAF50"}})}),t._l(t.row,function(e){return n("line",{key:"row"+e,attrs:{x1:"0",y1:e*t.unitY,x2:t.maxWidth,y2:e*t.unitY,stroke:"#ddd",stoke:"1"}})}),t._l(t.col,function(e){return n("line",{key:"col"+e,attrs:{x1:e*t.unitX,y1:"0",x2:e*t.unitX,y2:t.maxWidth,stroke:"#ddd",stoke:"1"}})})],2)},R=[],D={name:"FlowChartGrid",props:{row:{type:Number,default:0},col:{type:Number,default:0},maxWidth:{type:Number,default:0},maxHeight:{type:Number,default:0},blocks:{type:Array,default:function(){return[]}},path:{type:Array,default:function(){return[]}}},computed:{unitX:function(){return this.col<=0?0:this.maxWidth/this.col},unitY:function(){return this.row<=0?0:this.maxHeight/this.row}}},H=D,B=h(H,Y,R,!1,null,null,null);B.options.__file="FlowChartGrid.vue";var G=B.exports,V=function(t){var e={},n=[];return t.forEach(function(t){e[t.id]={entry:{x:t.x+t.width/2,y:t.y,vector:{x:0,y:-1}},output:{x:t.x+t.width/2,y:t.y+t.height,vector:{x:0,y:1}}}}),t.forEach(function(t){t.prevId&&n.push({start:e[t.prevId].output,end:e[t.id].entry,prevId:t.prevId,id:t.id})}),n},U=(n("6c7b"),function(){function t(e,n,r,i){x(this,t),A(this,"grid",[]),A(this,"row",0),A(this,"col",0),A(this,"maxWidth",0),A(this,"maxHeight",0),A(this,"unitX",0),A(this,"unitY",0),A(this,"blocksPosition",[]),this.row=e,this.col=n,this.maxWidth=r,this.maxHeight=i,this.unitX=r/n,this.unitY=i/e,this.initGrid()}return _(t,[{key:"initGrid",value:function(){var t=this;this.grid=new Array(this.col).fill(0),this.grid.forEach(function(e,n,r){r[n]=new Array(t.row).fill(0)})}},{key:"getGrid",value:function(){return this.grid}},{key:"clearBlocks",value:function(){this.blocksPosition=[],this.initGrid()}},{key:"addBlocks",value:function(t){var e=this;return t.forEach(function(t){var n=t.x,r=t.y,i=t.width,o=t.height,a=e.getPositionOf({x:n,y:r}),s=e.getPositionOf({x:n,y:r+o}),u=e.getPositionOf({x:n+i,y:r}),c=e.getPositionOf({x:n+i,y:r+o}),l=[a,u,c,s,a];l.reduce(function(t,n){if(t.col!==n.col){var r=t.col,i=n.col;r>i&&(r=n.col,i=t.col);for(var o=0;o<i-r;o++){var a=t.row,s=r+o;a<e.row&&s<e.col&&(e.blocksPosition.push({row:a,col:s}),e.grid[a][s]=1)}}if(t.row!==n.row){var u=t.row,c=n.row;u>c&&(u=n.row,c=t.row);for(var l=0;l<c-u+1;l++){var h=u+l,f=t.col;h<e.row&&f<e.col&&(e.blocksPosition.push({row:h,col:f}),e.grid[h][f]=1)}}return n})}),this.blocksPosition}},{key:"isBlock",value:function(t,e){return!(this.grid.length>t&&this.grid[t].length>e)||1===this.grid[t][e]}},{key:"getPositionOf",value:function(t){return{row:Math.floor(t.y/this.unitY),col:Math.floor(t.x/this.unitX)}}}]),t}()),z=n("cd3f"),J=n.n(z),q={name:"VFlowChart",props:{value:{type:Array,default:function(){return[]}},pathColor:{type:String,default:"#b39ddb"},width:{type:Number,default:640},height:{type:Number,default:640},maxWidth:{type:Number,default:1e3},maxHeight:{type:Number,default:1e3},row:{type:Number,default:50},col:{type:Number,default:50},showGrid:{type:Boolean,default:!1},useRouter:{type:Boolean,default:!1},tools:{type:Array,default:function(){return["thumbnail","resetScale","mousePosition"]}}},components:{FlowChartNode:d,FlowChartPath:I,FlowChartThumbnail:$,FlowChartGrid:G},data:function(){return{nodes:[],scale:1,svgOffsetX:0,svgOffsetY:0,inGrab:!1,inLink:!1,$svgContainer:null,currentPathId:"",currentNodeId:"",blocks:[],grid:null,unitX:this.maxWidth/this.col,unitY:this.maxHeight/this.row,path:[],currentMouseX:0,currentMouseY:0}},watch:{value:{immediate:!0,handler:function(t){var e=this,n=J()(t);n.forEach(function(t){var n=u(t,0,0,e.maxWidth,e.maxHeight);Object.assign(t,n)}),this.nodes=n}}},computed:{paths:function(){return V(this.nodes)},currentMousePostion:function(){return{x:((this.currentMouseX+this.svgOffsetX)*this.scale).toFixed(0),y:((this.currentMouseY+this.svgOffsetY)*this.scale).toFixed(0)}}},created:function(){this.grid=new U(this.row,this.col,this.maxWidth,this.maxHeight),this.blocks=this.grid.addBlocks(this.nodes)},mounted:function(){var t=this;this.$svgContainer=this.$el.querySelector(".svg-container");var e=function(e){t.currentMouseX=e.offsetX,t.currentMouseY=e.offsetY};this.$svgContainer.addEventListener("mousemove",e),this.$once("hook:beforeDestroy",function(){this.$svgContainer.removeEventListener("mousemove",e)}),this.bindHotKey()},methods:{createPlaceholder:function(t){this.nodes.push(t)},removeNode:function(t){var e=this.nodes.findIndex(function(e){return e.id===t});-1!==e&&this.nodes.splice(e,1)},bindHotKey:function(){var t=this,e=function(e){if("Delete"===e.key){if(t.currentPathId)return t.deleteCurrentPath();if(t.currentNodeId)return t.deleteCurrentNode()}if(t.currentNodeId){var n=t.nodes.find(function(e){return e.id===t.currentNodeId});n&&"ArrowLeft"===e.key&&n.x>0&&n.x--,n&&"ArrowRight"===e.key&&n.x<t.maxWidth-n.width-1&&n.x++,n&&"ArrowUp"===e.key&&n.y>0&&n.y--,n&&"ArrowDown"===e.key&&n.y<t.maxHeight-n.height-1&&n.y++,t.nodeChange(n)}};document.addEventListener("keyup",e),this.$once("hook:beforeDestroy",function(){this.$svgContainer.removeEventListener("mousemove",e)})},deleteCurrentPath:function(){var t=this,e=this.paths.find(function(e){return e.id===t.currentPathId});if(e){var n=e.prevId;this.$emit("delete-path",this.currentPathId,n)}},deleteCurrentNode:function(){this.$emit("delete-node",this.currentNodeId)},linkNode:function(t,e){var n=this.nodes.find(function(e){return e.id===t});n&&(n.prevId=e)},nodeChange:function(t){this.grid.clearBlocks();var e=J()(this.nodes),n=e.findIndex(function(e){return e.id===t.id});e[n]=J()(t),this.blocks=this.grid.addBlocks(e),this.nodes=e},handleMousewheel:function(t){if(this.scale>=.5&&this.scale<=2){var e=t.wheelDeltaY/1200,n=this.scale-e,r=this.maxWidth/this.width,i=this.maxHeight/this.height,o=Math.min(r,i),a=n>o?o:n;a=a<.5?.5:a,this.scale=a,(this.svgOffsetX+this.width)*a>this.maxWidth&&(this.svgOffsetX=this.maxWidth/a-this.width),(this.svgOffsetY+this.height)*a>this.maxHeight&&(this.svgOffsetY=this.maxHeight/a-this.height)}},handleMouseDown:function(t){var e=this;this.inGrab=!0;var n=t.offsetX,r=t.offsetY,i=this.svgOffsetX,o=this.svgOffsetY,a=this.$svgContainer,s=function(t){var a=t.offsetX,s=t.offsetY,c=i+n-a,l=o+r-s,h=u({x:c,y:l,width:e.width,height:e.height},0,0,e.maxWidth/e.scale,e.maxHeight/e.scale);e.svgOffsetX=h.x,e.svgOffsetY=h.y},c=function t(){e.inGrab=!1,a.removeEventListener("mousemove",s),a.removeEventListener("mouseup",t),a.removeEventListener("mouseleave",t)};a.addEventListener("mousemove",s),a.addEventListener("mouseup",c),a.addEventListener("mouseleave",c)},handleClickPath:function(t){this.currentPathId=t.id},handleClickNode:function(t){this.currentNodeId=t.id,this.currentPathId="",this.$emit("current-node-change",t.id)},handleContainerClick:function(){this.currentPathId="",this.currentNodeId=""},handleResetScale:function(){this.scale=1,this.svgOffsetX=0,this.svgOffsetY=0},handleUpdatePath:function(){}}},Q=q,K=(n("3716"),h(Q,i,o,!1,null,"b1024658",null));K.options.__file="Index.vue";var Z=K.exports;e["default"]=Z},fb50:function(t,e,n){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}})["default"]});
//# sourceMappingURL=v-flow-chart.umd.min.js.map